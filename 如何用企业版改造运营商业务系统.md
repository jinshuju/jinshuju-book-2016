# 如何用企业版改造运营商业务系统

某电信公司提供家庭套餐业务，该套餐可以办理一个家用宽带和手机包月业务，并且在家庭成员的多部手机间共享手机流量，用户可以自定义宽带业务带宽和手机数据流量包。该公司市场推广人员希望用户可以访问公众号来自主申请套餐办理。

## 改造前

使用个人版或者企业版的基本字段可以搭建一个简单的表单，满足基本的业务需求：用户及其家庭成员的信息填报，不同套餐内容的选择和组合。表单内容如图 1 所示，可扫描图中二维码查看完整表单。

![](/assets/运营商-改造前.png)
<center>图1 改造前的表单</center>


这个表单在后期数据维护和用户体验上都有痛点：

1. 「营业厅」使用的是简单的「下拉框」字段，但是具体每一个营业厅负责人是谁，用户提交数据后，通知谁来处理，在这个表单里都不是很方便操作。
2. 每个用户的家庭成员数量不是固定的，这里设置了三组家庭成员的姓名和手机字段。如果用户的家庭成员多于 3 个，就没地方填写了；如果少于 3 个，空余的字段也占据了页面，视觉上不太美观。
3. 不同的套餐内容组合后，价格无法自动计算。

现在我们来看看，如何在企业版中消弭以上痛点。

## 使用「表单关联」字段，将复杂的信息结构化

金数据企业版提供了更为强大的**「表单关联」**功能，可以从数据源表单中引用多个字段到当前表单中。

我们首先创建一个《营业厅信息》表单，并录入营业厅的基本信息，比如：网点名称和地址，负责人姓名、手机号和邮箱等信息。然后将通过「表单关联」字段将该表单关联到《套餐办理》，当用户选择营业厅后，对应的负责人信息联动到数据页面，如图 2 所示。

![](/assets/运营商-表单关联.png)
<center>图2 表单关联</center>

企业版还支持在表单「设置」——「推送提醒」中，将推送提醒发送给被关联的手机／邮件字段，如图 3 所示。当有用户办理套餐时，推送消息到对应的负责人手机或邮箱。
![](/assets/运营商-推送提醒.png)

<center>图3 推送提醒</center>


## 使用「计算」字段，自动计算套餐总价

用户在选择不同套餐内容时，希望能够动态的看到最终的包月费用，使用金数据企业版专有的「计算」字段，可以实现该业务需求。

第一步，企业版支持对单选、多选、下拉框等字段的选项进行赋值，对不同的套餐选项赋值，方便最后计算总金额，如图 4 所示。

![](/assets/运营商-选项赋值.png)

<center>图4 选项赋值</center>

第二步，添加一个「计算」字段，用户在填写表单时，根据选择套餐内容的不同，表单会自动计算出包月费用。计算公式如图 5 所示。

![](/assets/运营商-计算公式.png)

<center>图5 计算公式</center>

## 使用「表格」字段，简化表单界面

金数据企业版的专有「表格」字段允许填表人根据自己的需求自行添加行数。这样，用户可以自己添加任意多条成员信息，整个表单将整洁不少，如图 5 所示。

![](/assets/运营商-表格字段.png)
<center>图6 表格字段</center>


## 改造后

至此，我们使用了四个金数据企业版的功能：增强的「表单关联」字段及其数据推送，「计算」字段和「表格」字段，实现了业务上的基本信息获取、新数据定向推送提醒、价格自动计算和复杂信息结构化。

扫描下方二维码，如图 7 所示，查看改造后的完整表单。

![](/assets/企业版-改造后的表单.png)
<center>图7 改造后的表单</center>